# Пояснення до файлу TabsExample
- ви можете подивитись увесь код, разом з коментарями у TabsExample.py ⬆️, або прочитати усе тут з більш детальнішими поясненням.


Розроблено, як матеріал для допомоги у домашній роботі студентам. Від викладача `Харченка Віталія`.


---

Спочатку ми підключаємо те, що нам потрібно з PyQt5, щоб малювати вікно, вкладки і написи. Також підключаємо модуль `sys`, щоб правильно запустити програму.

```python
from PyQt5.QtWidgets import QApplication, QWidget, QTabWidget, QLabel, QVBoxLayout
import sys
```

Тут ми створюємо обєкт програми. Без нього нічого не зможе зявитися на екрані.

```python
app = QApplication(sys.argv)
```

Тепер робимо головне вікно, в якому все буде знаходитися. Для нього створюємо вертикальний лейаут. Можна думати про нього як про коробку, куди ми складаємо елементи зверху вниз.

```python
win = QWidget()
layout = QVBoxLayout(win)
```

Далі створюємо віджет вкладок. Це як вкладки у браузері. Також говоримо, що вкладки поки не можна закривати хрестиком.

```python
tabs = QTabWidget()
tabs.setTabsClosable(False)
```

Тепер створюємо першу вкладку. Робимо для неї окремий віджет і вертикальний лейаут всередині. На цю вкладку додаємо напис, який пояснює, що це перший таб. Потім додаємо цю вкладку до панелі вкладок з назвою "Tab 1".

```python
first_tab = QWidget()
first_layout = QVBoxLayout(first_tab)
first_layout.addWidget(QLabel("Це перший таб"))
tabs.addTab(first_tab, "Tab 1")
```

Тепер створюємо вкладку, яка буде виглядати як кнопка з плюсом. Вона майже порожня, головне у ній це текст "+" у заголовку. Коли ми натискаємо на цю вкладку, програма буде створювати нову.

```python
plus_tab = QWidget()
tabs.addTab(plus_tab, "+")
```

Далі ми оголошуємо функцію, яка запускається щоразу, коли користувач переключає вкладку. Вона отримує номер вибраної вкладки. Всередині ми перевіряємо, чи це саме вкладка з плюсом.

```python
def on_tab_changed(index):
    if tabs.tabText(index) == "+":
```

Якщо вибрали вкладку з плюсом, тоді створюємо нову вкладку. Робимо для неї віджет, лейаут і додаємо напис "Новий таб", щоб було видно, що це щойно створена вкладка.

```python
        new_tab = QWidget()
        new_layout = QVBoxLayout(new_tab)
        new_layout.addWidget(QLabel("Новий таб"))
```

Тепер дізнаємося, скільки вкладок вже є. Потім вставляємо нову вкладку перед плюсом, щоб плюс завжди залишався останнім. Після цього переключаємося на нову вкладку, щоб користувач одразу її побачив.

```python
        count = tabs.count()
        tabs.insertTab(count - 1, new_tab, f"Tab {count}")
        tabs.setCurrentIndex(count - 1)
```

Закінчили опис функції. Вона буде автоматично викликатися, коли змінюється активна вкладка.

```python
```

Тут ми підключаємо нашу функцію до події зміни вкладки. Тобто коли користувач натискає іншу вкладку, запускається `on_tab_changed`.

```python
tabs.currentChanged.connect(on_tab_changed)
```

Тепер додаємо панель вкладок у головне вікно. Після цього показуємо вікно на екрані.

```python
layout.addWidget(tabs)
win.show()
```

Наприкінці запускаємо головний цикл програми. Він не дає вікну закритися одразу і дозволяє натискати вкладки, бачити нові таби та працювати з програмою.

```python
sys.exit(app.exec_())
```

В результаті отримаємо ось такий результат:
![gif з демонстрацією](https://media.discordapp.net/attachments/917547349864230912/1445140906012315900/Client.exe-2025.12.01-21.50.58.02-_online-video-cutter.com_.gif?ex=692f43d9&is=692df259&hm=195830c2d8537bf95781800a927cee3f234e3f5c651128b5cbcda01436e5ab1f&=&width=1522&height=856)